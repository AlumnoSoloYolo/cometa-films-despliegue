<div class="success-container">
    <div class="success-content">
        <div class="success-icon">
            <i class="bi bi-check-circle-fill"></i>
        </div>

        <h1>¡Pago Completado!</h1>

        @if (isProcessing) {
        <div class="processing-status">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Procesando...</span>
            </div>
            <p>Estamos activando tu cuenta Premium...</p>
        </div>
        } @else if (error) {
        <div class="error-message">
            <p>{{ error }}</p>
            <button class="btn btn-retry" (click)="capturePayment()">
                Reintentar
            </button>
        </div>
        } @else if (success) {
        <div class="success-message">
            <p>Tu cuenta Premium ha sido activada con éxito.</p>
            <p class="expiry-date">Suscripción válida hasta: {{ expiryDate | date:'longDate' }}</p>

            <div class="action-buttons">
                <button class="btn btn-primary" routerLink="/perfil">
                    Ir a mi perfil
                </button>
                <button class="btn btn-secondary" routerLink="/premium">
                    Ver detalles de Premium
                </button>
            </div>
        </div>
        }
    </div>
</div>